<p-card header="Add Contact" styleClass="m-4">
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="flex flex-column gap-3">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
            <input pInputText formControlName="name" placeholder="Name" />
        </div>
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-phone"></i></span>
            <input pInputText formControlName="phoneNumber" placeholder="Phone Number" />
        </div>
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-envelope"></i></span>
            <input pInputText formControlName="email" placeholder="Email" />
        </div>


        <div formArrayName="addresses">
            <div class="flex flex-row gap-1 align-items-center">
                <h3>Addresses</h3>

                <!-- <p-button icon="pi pi-plus" label="Add New"
                    [rounded]="false" [text]="true" severity="info"
                    (click)="addAddress()" 
                    [disabled]="addresses.length >= 5"
                /> -->
            </div>

            <div *ngFor="let address of addresses.controls; let i = index" [formGroupName]="i">
                <h4>Address {{i + 1}}</h4>

                <div class="flex flex-row gap-1 align-items-center">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><i class="pi pi-map-marker"></i></span>
                        <input pInputText formControlName="address" placeholder="Address" />
                    </div>

                    <p-button icon="pi pi-times" 
                        [rounded]="true" [text]="true" [severity]="'danger'"
                        (click)="removeAddress(i)" 
                        [disabled]="addresses.length <= 1"
                    />
                </div>    
            </div>

            <div class="mt-2">
                <p-button icon="pi pi-plus" label="Add New"
                    [rounded]="false" [text]="true" severity="info"
                    (click)="addAddress()" 
                    [disabled]="addresses.length >= 5"
                />
            </div>

        </div>
            




        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-compass"></i></span>
            <input pInputText formControlName="longitude" placeholder="Longitude" readonly />
        </div>
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-compass"></i></span>
            <input pInputText formControlName="latitude" placeholder="Latitude" readonly />
        </div>
        <div class="flex justify-content-between">
            <p-button type="button" label="Get Location" icon="pi pi-map-marker" (onClick)="getCurrentLocation()"></p-button>
            <p-button type="submit" label="Submit" icon="pi pi-check" [disabled]="!contactForm.valid"></p-button>
        </div>
    </form>
</p-card>